{% extends "base.html" %}
{% block content %}

<div class="admin">
    <script>
    function confirmDeleteSecret() {
        return confirm("Are you sure you want to delete this secret?");
    }
    </script>

    <h2>Manage Secrets</h2>

    <div>
        <a href="{{ url_for('admin.admin_dashboard') }}">
            <button>‚Üê Back to Dashboard</button>
        </a>
    </div>

    <ul>
        {% for secret in secrets %}
            <li class="admin-secrets">
                <a href="{{ url_for('admin.admin_secret_detail', secret_id=secret.id) }}">{{ secret.title }}</a>
                by {{ secret.user.username if secret.user else "Unknown User" }} (ID: {{ secret.user_id }})

                <form action="{{ url_for('admin.admin_delete_secret', secret_id=secret.id) }}" method="POST" style="display:inline;">
                    <button type="submit" onclick="return confirmDeleteSecret();">Delete</button>
                </form>
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
